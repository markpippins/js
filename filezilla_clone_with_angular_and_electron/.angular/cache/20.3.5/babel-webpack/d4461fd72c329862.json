{"ast":null,"code":"import _asyncToGenerator from \"C:/dev/js/filezilla_clone_with_angular_and_electron/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/electron.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction FileManagerComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"strong\");\n    i0.ɵɵtext(2, \"Demo Mode:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" This is a web-based demonstration of the FileZilla clone. File operations are simulated with mock data. Download the desktop version for full functionality. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FileManagerComponent_tr_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 23);\n    i0.ɵɵlistener(\"dblclick\", function FileManagerComponent_tr_34_Template_tr_dblclick_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.navigateLocal(\"..\"));\n    });\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2, \"\\uD83D\\uDCC1 ..\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"td\")(4, \"td\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FileManagerComponent_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 24);\n    i0.ɵɵlistener(\"click\", function FileManagerComponent_tr_35_Template_tr_click_0_listener() {\n      const file_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.toggleLocalSelection(file_r4.name));\n    })(\"dblclick\", function FileManagerComponent_tr_35_Template_tr_dblclick_0_listener() {\n      const file_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(file_r4.isDirectory ? ctx_r1.navigateLocal(file_r4.name) : null);\n    });\n    i0.ɵɵelementStart(1, \"td\")(2, \"span\", 25);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const file_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"selected\", ctx_r1.selectedLocalFiles.has(file_r4.name));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(file_r4.isDirectory ? \"\\uD83D\\uDCC1\" : \"\\uD83D\\uDCC4\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", file_r4.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(file_r4.isDirectory ? \"\" : ctx_r1.formatFileSize(file_r4.size));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.formatDate(file_r4.modified));\n  }\n}\nfunction FileManagerComponent_tr_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 26);\n    i0.ɵɵtext(2, \"Not connected\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction FileManagerComponent_tr_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 23);\n    i0.ɵɵlistener(\"dblclick\", function FileManagerComponent_tr_53_Template_tr_dblclick_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.navigateRemote(\"..\"));\n    });\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2, \"\\uD83D\\uDCC1 ..\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"td\")(4, \"td\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FileManagerComponent_tr_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 24);\n    i0.ɵɵlistener(\"click\", function FileManagerComponent_tr_54_Template_tr_click_0_listener() {\n      const file_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.toggleRemoteSelection(file_r7.name));\n    })(\"dblclick\", function FileManagerComponent_tr_54_Template_tr_dblclick_0_listener() {\n      const file_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(file_r7.isDirectory ? ctx_r1.navigateRemote(file_r7.name) : null);\n    });\n    i0.ɵɵelementStart(1, \"td\")(2, \"span\", 25);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const file_r7 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"selected\", ctx_r1.selectedRemoteFiles.has(file_r7.name));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(file_r7.isDirectory ? \"\\uD83D\\uDCC1\" : \"\\uD83D\\uDCC4\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", file_r7.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(file_r7.isDirectory ? \"\" : ctx_r1.formatFileSize(file_r7.size));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.formatDate(file_r7.modified));\n  }\n}\nfunction FileManagerComponent_div_60_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵelement(1, \"div\", 31);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const transfer_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵstyleProp(\"width\", transfer_r8.progress, \"%\");\n  }\n}\nfunction FileManagerComponent_div_60_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const transfer_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Error: \", transfer_r8.error, \" \");\n  }\n}\nfunction FileManagerComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, FileManagerComponent_div_60_div_3_Template, 2, 2, \"div\", 28)(4, FileManagerComponent_div_60_div_4_Template, 2, 1, \"div\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const transfer_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", transfer_r8.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate4(\" \", transfer_r8.type === \"upload\" ? \"\\u2191\" : \"\\u2193\", \" \", transfer_r8.localPath, \" \", transfer_r8.type === \"upload\" ? \"\\u2192\" : \"\\u2190\", \" \", transfer_r8.remotePath, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", transfer_r8.status === \"active\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", transfer_r8.status === \"error\");\n  }\n}\nfunction FileManagerComponent_span_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" Connected to \", ctx_r1.connectionConfig.host, \" (\", ctx_r1.connectionConfig.protocol.toUpperCase(), \") \");\n  }\n}\nfunction FileManagerComponent_div_65_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵlistener(\"click\", function FileManagerComponent_div_65_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeConnectionDialog());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FileManagerComponent_div_66_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"h3\");\n    i0.ɵɵtext(2, \"Connect to Server\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 35)(4, \"label\");\n    i0.ɵɵtext(5, \"Protocol:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"select\", 36);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function FileManagerComponent_div_66_Template_select_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.connectionConfig.protocol, $event) || (ctx_r1.connectionConfig.protocol = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(7, \"option\", 37);\n    i0.ɵɵtext(8, \"FTP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"option\", 38);\n    i0.ɵɵtext(10, \"SFTP\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"div\", 35)(12, \"label\");\n    i0.ɵɵtext(13, \"Host:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 39);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function FileManagerComponent_div_66_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.connectionConfig.host, $event) || (ctx_r1.connectionConfig.host = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 35)(16, \"label\");\n    i0.ɵɵtext(17, \"Port:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"input\", 40);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function FileManagerComponent_div_66_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.connectionConfig.port, $event) || (ctx_r1.connectionConfig.port = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 35)(20, \"label\");\n    i0.ɵɵtext(21, \"Username:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 41);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function FileManagerComponent_div_66_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.connectionConfig.username, $event) || (ctx_r1.connectionConfig.username = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 35)(24, \"label\");\n    i0.ɵɵtext(25, \"Password:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"input\", 42);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function FileManagerComponent_div_66_Template_input_ngModelChange_26_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.connectionConfig.password, $event) || (ctx_r1.connectionConfig.password = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 43)(28, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function FileManagerComponent_div_66_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeConnectionDialog());\n    });\n    i0.ɵɵtext(29, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function FileManagerComponent_div_66_Template_button_click_30_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.connect());\n    });\n    i0.ɵɵtext(31, \"Connect\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.connectionConfig.protocol);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.connectionConfig.host);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.connectionConfig.port);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.connectionConfig.username);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.connectionConfig.password);\n  }\n}\nexport let FileManagerComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class FileManagerComponent {\n    constructor(electronService) {\n      this.electronService = electronService;\n      this.localPath = '';\n      this.remotePath = '/';\n      this.localFiles = [];\n      this.remoteFiles = [];\n      this.selectedLocalFiles = new Set();\n      this.selectedRemoteFiles = new Set();\n      this.showConnectionDialog = false;\n      this.isConnected = false;\n      this.connectionConfig = {\n        protocol: 'ftp',\n        host: '',\n        port: 21,\n        username: '',\n        password: ''\n      };\n      this.transferQueue = [];\n      this.statusMessage = 'Ready';\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (_this.electronService.isElectron) {\n          // Set initial local path to user's home directory\n          _this.localPath = '/home/user';\n        } else {\n          // Set demo path for web version\n          _this.localPath = '/home/user';\n        }\n        yield _this.loadLocalFiles();\n      })();\n    }\n    loadLocalFiles() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          _this2.localFiles = yield _this2.electronService.getLocalFiles(_this2.localPath);\n          _this2.selectedLocalFiles.clear();\n        } catch (error) {\n          console.error('Error loading local files:', error);\n          _this2.statusMessage = `Error: ${error}`;\n        }\n      })();\n    }\n    loadRemoteFiles() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this3.isConnected) return;\n        try {\n          _this3.remoteFiles = yield _this3.electronService.getRemoteFiles(_this3.remotePath, _this3.connectionConfig.protocol);\n          _this3.selectedRemoteFiles.clear();\n        } catch (error) {\n          console.error('Error loading remote files:', error);\n          _this3.statusMessage = `Error: ${error}`;\n        }\n      })();\n    }\n    navigateLocal(path) {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        if (path === '..') {\n          const parts = _this4.localPath.split('/');\n          parts.pop();\n          _this4.localPath = parts.join('/') || '/';\n        } else {\n          _this4.localPath = _this4.localPath.endsWith('/') ? _this4.localPath + path : _this4.localPath + '/' + path;\n        }\n        yield _this4.loadLocalFiles();\n      })();\n    }\n    navigateRemote(path) {\n      var _this5 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this5.isConnected) return;\n        if (path === '..') {\n          const parts = _this5.remotePath.split('/');\n          parts.pop();\n          _this5.remotePath = parts.join('/') || '/';\n        } else {\n          _this5.remotePath = _this5.remotePath.endsWith('/') ? _this5.remotePath + path : _this5.remotePath + '/' + path;\n        }\n        yield _this5.loadRemoteFiles();\n      })();\n    }\n    toggleLocalSelection(fileName) {\n      if (this.selectedLocalFiles.has(fileName)) {\n        this.selectedLocalFiles.delete(fileName);\n      } else {\n        this.selectedLocalFiles.add(fileName);\n      }\n    }\n    toggleRemoteSelection(fileName) {\n      if (this.selectedRemoteFiles.has(fileName)) {\n        this.selectedRemoteFiles.delete(fileName);\n      } else {\n        this.selectedRemoteFiles.add(fileName);\n      }\n    }\n    selectLocalDirectory() {\n      var _this6 = this;\n      return _asyncToGenerator(function* () {\n        const path = yield _this6.electronService.selectDirectory();\n        if (path) {\n          _this6.localPath = path;\n          yield _this6.loadLocalFiles();\n        }\n      })();\n    }\n    openConnectionDialog() {\n      this.showConnectionDialog = true;\n    }\n    closeConnectionDialog() {\n      this.showConnectionDialog = false;\n    }\n    connect() {\n      var _this7 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          let result;\n          if (_this7.connectionConfig.protocol === 'sftp') {\n            result = yield _this7.electronService.connectSftp({\n              host: _this7.connectionConfig.host,\n              port: _this7.connectionConfig.port,\n              username: _this7.connectionConfig.username,\n              password: _this7.connectionConfig.password\n            });\n          } else {\n            result = yield _this7.electronService.connectFtp({\n              host: _this7.connectionConfig.host,\n              port: _this7.connectionConfig.port,\n              user: _this7.connectionConfig.username,\n              password: _this7.connectionConfig.password\n            });\n          }\n          if (result.success) {\n            _this7.isConnected = true;\n            _this7.statusMessage = result.message;\n            _this7.closeConnectionDialog();\n            yield _this7.loadRemoteFiles();\n          } else {\n            _this7.statusMessage = result.message;\n          }\n        } catch (error) {\n          _this7.statusMessage = `Connection failed: ${error}`;\n        }\n      })();\n    }\n    disconnect() {\n      var _this8 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          yield _this8.electronService.disconnect();\n          _this8.isConnected = false;\n          _this8.remoteFiles = [];\n          _this8.statusMessage = 'Disconnected';\n        } catch (error) {\n          _this8.statusMessage = `Disconnect failed: ${error}`;\n        }\n      })();\n    }\n    uploadFiles() {\n      var _this9 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this9.isConnected || _this9.selectedLocalFiles.size === 0) return;\n        for (const fileName of _this9.selectedLocalFiles) {\n          const localFilePath = _this9.localPath.endsWith('/') ? _this9.localPath + fileName : _this9.localPath + '/' + fileName;\n          const remoteFilePath = _this9.remotePath.endsWith('/') ? _this9.remotePath + fileName : _this9.remotePath + '/' + fileName;\n          const transferItem = {\n            id: Date.now().toString() + Math.random(),\n            localPath: localFilePath,\n            remotePath: remoteFilePath,\n            type: 'upload',\n            status: 'pending',\n            progress: 0\n          };\n          _this9.transferQueue.push(transferItem);\n          _this9.processTransfer(transferItem);\n        }\n        _this9.selectedLocalFiles.clear();\n      })();\n    }\n    downloadFiles() {\n      var _this0 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this0.isConnected || _this0.selectedRemoteFiles.size === 0) return;\n        for (const fileName of _this0.selectedRemoteFiles) {\n          const remoteFilePath = _this0.remotePath.endsWith('/') ? _this0.remotePath + fileName : _this0.remotePath + '/' + fileName;\n          const localFilePath = _this0.localPath.endsWith('/') ? _this0.localPath + fileName : _this0.localPath + '/' + fileName;\n          const transferItem = {\n            id: Date.now().toString() + Math.random(),\n            localPath: localFilePath,\n            remotePath: remoteFilePath,\n            type: 'download',\n            status: 'pending',\n            progress: 0\n          };\n          _this0.transferQueue.push(transferItem);\n          _this0.processTransfer(transferItem);\n        }\n        _this0.selectedRemoteFiles.clear();\n      })();\n    }\n    processTransfer(item) {\n      var _this1 = this;\n      return _asyncToGenerator(function* () {\n        item.status = 'active';\n        try {\n          if (item.type === 'upload') {\n            yield _this1.electronService.uploadFile(item.localPath, item.remotePath, _this1.connectionConfig.protocol);\n          } else {\n            yield _this1.electronService.downloadFile(item.remotePath, item.localPath, _this1.connectionConfig.protocol);\n          }\n          item.status = 'completed';\n          item.progress = 100;\n          // Refresh file lists\n          yield _this1.loadLocalFiles();\n          yield _this1.loadRemoteFiles();\n        } catch (error) {\n          item.status = 'error';\n          item.error = error?.toString();\n        }\n      })();\n    }\n    formatFileSize(bytes) {\n      if (bytes === 0) return '0 B';\n      const k = 1024;\n      const sizes = ['B', 'KB', 'MB', 'GB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    }\n    formatDate(date) {\n      return new Date(date).toLocaleString();\n    }\n    clearTransferQueue() {\n      this.transferQueue = this.transferQueue.filter(item => item.status === 'active' || item.status === 'pending');\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function FileManagerComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || FileManagerComponent)(i0.ɵɵdirectiveInject(i1.ElectronService));\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: FileManagerComponent,\n      selectors: [[\"app-file-manager\"]],\n      decls: 67,\n      vars: 19,\n      consts: [[1, \"file-manager\"], [\"class\", \"demo-notice\", 4, \"ngIf\"], [1, \"toolbar\"], [3, \"click\", \"disabled\"], [3, \"click\"], [1, \"main-content\"], [1, \"pane\"], [1, \"pane-header\"], [1, \"path-bar\"], [\"type\", \"text\", 1, \"path-input\", 3, \"ngModelChange\", \"keyup.enter\", \"ngModel\"], [1, \"file-list\"], [3, \"dblclick\", 4, \"ngIf\"], [3, \"selected\", \"click\", \"dblclick\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", 1, \"path-input\", 3, \"ngModelChange\", \"keyup.enter\", \"ngModel\", \"disabled\"], [4, \"ngIf\"], [1, \"transfer-queue\"], [2, \"padding\", \"8px 12px\", \"background\", \"#f8f8f8\", \"border-bottom\", \"1px solid #ddd\", \"font-weight\", \"bold\", \"font-size\", \"12px\"], [2, \"float\", \"right\", \"font-size\", \"10px\", \"padding\", \"2px 6px\", 3, \"click\"], [\"class\", \"transfer-item\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"status-bar\"], [\"class\", \"overlay\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"connection-dialog\", 4, \"ngIf\"], [1, \"demo-notice\"], [3, \"dblclick\"], [3, \"click\", \"dblclick\"], [1, \"file-icon\"], [\"colspan\", \"3\", 2, \"text-align\", \"center\", \"color\", \"#999\"], [1, \"transfer-item\", 3, \"ngClass\"], [\"class\", \"progress-bar\", 4, \"ngIf\"], [\"style\", \"color: red; font-size: 10px;\", 4, \"ngIf\"], [1, \"progress-bar\"], [1, \"progress-fill\"], [2, \"color\", \"red\", \"font-size\", \"10px\"], [1, \"overlay\", 3, \"click\"], [1, \"connection-dialog\"], [1, \"form-group\"], [3, \"ngModelChange\", \"ngModel\"], [\"value\", \"ftp\"], [\"value\", \"sftp\"], [\"type\", \"text\", \"placeholder\", \"ftp.example.com\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"password\", 3, \"ngModelChange\", \"ngModel\"], [1, \"dialog-buttons\"], [1, \"primary\", 3, \"click\"]],\n      template: function FileManagerComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, FileManagerComponent_div_1_Template, 4, 0, \"div\", 1);\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function FileManagerComponent_Template_button_click_3_listener() {\n            return ctx.openConnectionDialog();\n          });\n          i0.ɵɵtext(4, \"Connect\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function FileManagerComponent_Template_button_click_5_listener() {\n            return ctx.disconnect();\n          });\n          i0.ɵɵtext(6, \"Disconnect\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function FileManagerComponent_Template_button_click_7_listener() {\n            return ctx.uploadFiles();\n          });\n          i0.ɵɵtext(8, \"Upload\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function FileManagerComponent_Template_button_click_9_listener() {\n            return ctx.downloadFiles();\n          });\n          i0.ɵɵtext(10, \"Download\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function FileManagerComponent_Template_button_click_11_listener() {\n            return ctx.loadLocalFiles();\n          });\n          i0.ɵɵtext(12, \"Refresh Local\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function FileManagerComponent_Template_button_click_13_listener() {\n            return ctx.loadRemoteFiles();\n          });\n          i0.ɵɵtext(14, \"Refresh Remote\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"div\", 5)(16, \"div\", 6)(17, \"div\", 7);\n          i0.ɵɵtext(18, \"Local Site\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"div\", 8)(20, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function FileManagerComponent_Template_button_click_20_listener() {\n            return ctx.selectLocalDirectory();\n          });\n          i0.ɵɵtext(21, \"\\uD83D\\uDCC1\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"input\", 9);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function FileManagerComponent_Template_input_ngModelChange_22_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.localPath, $event) || (ctx.localPath = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"keyup.enter\", function FileManagerComponent_Template_input_keyup_enter_22_listener() {\n            return ctx.loadLocalFiles();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(23, \"div\", 10)(24, \"table\")(25, \"thead\")(26, \"tr\")(27, \"th\");\n          i0.ɵɵtext(28, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"th\");\n          i0.ɵɵtext(30, \"Size\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"th\");\n          i0.ɵɵtext(32, \"Modified\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(33, \"tbody\");\n          i0.ɵɵtemplate(34, FileManagerComponent_tr_34_Template, 5, 0, \"tr\", 11)(35, FileManagerComponent_tr_35_Template, 9, 6, \"tr\", 12);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(36, \"div\", 6)(37, \"div\", 7);\n          i0.ɵɵtext(38, \"Remote Site\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"div\", 8)(40, \"input\", 13);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function FileManagerComponent_Template_input_ngModelChange_40_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.remotePath, $event) || (ctx.remotePath = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"keyup.enter\", function FileManagerComponent_Template_input_keyup_enter_40_listener() {\n            return ctx.loadRemoteFiles();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(41, \"div\", 10)(42, \"table\")(43, \"thead\")(44, \"tr\")(45, \"th\");\n          i0.ɵɵtext(46, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(47, \"th\");\n          i0.ɵɵtext(48, \"Size\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(49, \"th\");\n          i0.ɵɵtext(50, \"Modified\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(51, \"tbody\");\n          i0.ɵɵtemplate(52, FileManagerComponent_tr_52_Template, 3, 0, \"tr\", 14)(53, FileManagerComponent_tr_53_Template, 5, 0, \"tr\", 11)(54, FileManagerComponent_tr_54_Template, 9, 6, \"tr\", 12);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(55, \"div\", 15)(56, \"div\", 16);\n          i0.ɵɵtext(57, \" Transfer Queue \");\n          i0.ɵɵelementStart(58, \"button\", 17);\n          i0.ɵɵlistener(\"click\", function FileManagerComponent_Template_button_click_58_listener() {\n            return ctx.clearTransferQueue();\n          });\n          i0.ɵɵtext(59, \" Clear Completed \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(60, FileManagerComponent_div_60_Template, 5, 7, \"div\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(61, \"div\", 19)(62, \"span\");\n          i0.ɵɵtext(63);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(64, FileManagerComponent_span_64_Template, 2, 2, \"span\", 14);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(65, FileManagerComponent_div_65_Template, 1, 0, \"div\", 20)(66, FileManagerComponent_div_66_Template, 32, 5, \"div\", 21);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.electronService.isElectron);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.isConnected);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", !ctx.isConnected);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", !ctx.isConnected || ctx.selectedLocalFiles.size === 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", !ctx.isConnected || ctx.selectedRemoteFiles.size === 0);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"disabled\", !ctx.isConnected);\n          i0.ɵɵadvance(9);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.localPath);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", ctx.localPath !== \"/\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.localFiles);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.remotePath);\n          i0.ɵɵproperty(\"disabled\", !ctx.isConnected);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isConnected);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isConnected && ctx.remotePath !== \"/\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.remoteFiles);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngForOf\", ctx.transferQueue);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.statusMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isConnected);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showConnectionDialog);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showConnectionDialog);\n        }\n      },\n      dependencies: [CommonModule, i2.NgClass, i2.NgForOf, i2.NgIf, FormsModule, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n      styles: [\".file-manager[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}.demo-notice[_ngcontent-%COMP%]{background:#fff3cd;border:1px solid #ffeaa7;color:#856404;padding:8px 12px;font-size:12px;text-align:center}.toolbar[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#f0f0f0,#e0e0e0);border-bottom:1px solid #ccc;padding:8px 12px;display:flex;align-items:center;gap:8px}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#fff,#f0f0f0);border:1px solid #ccc;border-radius:3px;padding:6px 12px;cursor:pointer;font-size:12px}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(to bottom,#f0f0f0,#e0e0e0)}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active:not(:disabled){background:linear-gradient(to bottom,#e0e0e0,#d0d0d0)}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.main-content[_ngcontent-%COMP%]{display:flex;flex:1;min-height:0}.pane[_ngcontent-%COMP%]{flex:1;border:1px solid #ccc;margin:4px;background:#fff;display:flex;flex-direction:column;min-height:0}.pane-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#f8f8f8,#e8e8e8);border-bottom:1px solid #ccc;padding:8px 12px;font-weight:700;font-size:12px}.path-bar[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #ddd;padding:4px 8px;display:flex;align-items:center;gap:4px}.path-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f0f0f0;border:1px solid #ccc;border-radius:3px;padding:4px 8px;cursor:pointer;font-size:12px}.path-input[_ngcontent-%COMP%]{flex:1;border:1px solid #ccc;padding:4px 8px;font-size:12px}.file-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;min-height:0}.file-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:12px}.file-list[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#f0f0f0,#e0e0e0);border-bottom:1px solid #ccc;padding:6px 8px;text-align:left;font-weight:400;cursor:pointer;position:sticky;top:0}.file-list[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#e8e8e8,#d8d8d8)}.file-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:4px 8px;border-bottom:1px solid #f0f0f0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e8f4fd}.file-list[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]{background-color:#316ac5;color:#fff}.file-list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer}.file-icon[_ngcontent-%COMP%]{margin-right:4px;vertical-align:middle}.transfer-queue[_ngcontent-%COMP%]{height:120px;border-top:1px solid #ccc;background:#fff;overflow-y:auto;flex-shrink:0}.transfer-item[_ngcontent-%COMP%]{padding:8px 12px;border-bottom:1px solid #f0f0f0;font-size:11px}.transfer-item.active[_ngcontent-%COMP%]{background:#fff3cd}.transfer-item.completed[_ngcontent-%COMP%]{background:#d4edda}.transfer-item.error[_ngcontent-%COMP%]{background:#f8d7da}.progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;background:#f0f0f0;border-radius:2px;overflow:hidden;margin:4px 0}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(to right,#4caf50,#45a049);transition:width .3s ease}.status-bar[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#f0f0f0,#e0e0e0);border-top:1px solid #ccc;padding:4px 12px;font-size:11px;display:flex;justify-content:space-between;flex-shrink:0}.connection-dialog[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;border:1px solid #ccc;border-radius:4px;padding:20px;box-shadow:0 4px 12px #0000004d;z-index:1000;min-width:400px}.connection-dialog[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:16px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:12px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:4px;font-size:12px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:1px solid #ccc;border-radius:3px;font-size:12px}.dialog-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:16px}.dialog-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #ccc;border-radius:3px;cursor:pointer;font-size:12px}.dialog-buttons[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{background:#0078d4;color:#fff;border-color:#0078d4}.dialog-buttons[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]:hover{background:#106ebe}.overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;z-index:999}\"]\n    }));\n  }\n  _staticBlock();\n  return FileManagerComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}